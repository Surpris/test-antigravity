schema_version: "1.0"
model_name: "ResearchDataManagementPlan_LogicalModel"
description: "科学研究費助成事業データマネジメントプラン（DMP）様式例に基づく論理データモデル"

entities:
  DMPMetadata:
    description: "DMP自体の作成・更新に関するメタデータ"
    attributes:
      created_date:
        type: "Date"
        description: "DMP作成年月日"
        required: true
      last_updated_date:
        type: "Date"
        description: "DMP最終更新年月日"
        required: true

  Project:
    description: "データマネジメントの対象となる研究プロジェクト"
    attributes:
      project_number:
        type: "String"
        description: "研究課題番号"
        primary_key: true
    relationships:
      has_metadata:
        target: "DMPMetadata"
        cardinality: "1:1"
      has_contributors:
        target: "Contributor"
        cardinality: "1:N"
      has_datasets:
        target: "Dataset"
        cardinality: "1:N"

  Contributor:
    description: "プロジェクトに関与する研究者およびスタッフ"
    attributes:
      contributor_id:
        type: "String"
        description: "本計画書内通し番号"
        primary_key: true
      name:
        type: "String"
        description: "氏名"
        required: true
      role_in_project:
        type: "Enum"
        description: "プロジェクト内の役割"
        options:
          - "Principal Investigator"
          - "Co-Investigator"
          - "Data Collector"
          - "Data Manager"

  Dataset:
    description: "プロジェクトで生成・収集される個別のデータセット"
    attributes:
      dataset_no:
        type: "Integer"
        description: "No."
        primary_key: true
      title:
        type: "String"
        description: "研究データの名称"
        required: true
      access_policy:
        type: "Enum"
        description: "研究データの公開・提供方針"
        options:
          - "公開"
          - "共有"
          - "非共有・非公開"
    relationships:
      collected_by:
        target: "Contributor"
        description: "研究データの取得者又は収集者"
        cardinality: "1:1"
        attributes:
          collected_at:
            type: "Date"
            description: "研究データの取得年月日"
      managed_by:
        target: "Contributor"
        description: "研究データの管理者"
        cardinality: "0:1"
        attributes:
          managed_from:
            type: "Date"
            description: "研究データの管理開始日"
          managed_to:
            type: "Date"
            description: "研究データの管理終了日"
