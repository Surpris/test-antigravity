# マルチエージェント記事作成システム (ADK 版)

このプロジェクトは、Vertex AI Agent Development Kit (ADK) を使用して、調査、執筆、レビューを自動的に行うマルチエージェントシステムを実装した例です。
Zenn の記事「[マルチエージェントシステムのアーキテクチャーを紐解く](https://zenn.dev/google_cloud_jp/articles/5410925dc984b1)」の構成をベースに、最新の ADK 仕様に合わせて実装されています。

## システム構成

以下の 4 つの主要なエージェントが連携して動作します：

1. **リサーチエージェント (`research_agent`)**:
    - 指定されたテーマに基づき、調査トピックを選定し、客観的な調査レポートを作成します。
2. **ライターエージェント (`writer_agent`)**:
    - 調査レポートを基に、カジュアルで親しみやすい記事を執筆します。
3. **レビューエージェント (`review_agent`)**:
    - 記事の内容が指定された条件（タイトル、導入、具体例など）を満たしているかレビューし、改善案を提示します。
4. **ルートエージェント (`article_generation_flow`)**:
    - ユーザーとの入り口となり、入力内容に応じてリサーチや執筆のフローへ適切に処理を転送（ハンドオーバー）します。

## ファイル構成

- `agents.py`: 各エージェントの具体的な定義と、直列的な実行フローの構築。
- `main.py`: ルートエージェントの定義および対話型チャットループ（コマンドライン・インターフェース）。
- `.env`: 環境変数（プロジェクト ID など）の設定用ファイル。

## セットアップ手順

1. **依存関係のインストール**:
    プロジェクトのルートディレクトリで以下を実行します。

    ```bash
    uv sync
    ```

2. **環境変数の設定**:
    `examples/multi-agent-zenn/.env` を開き、自身の Google Cloud プロジェクト ID を設定してください。

    ```env
    GOOGLE_CLOUD_PROJECT=your-project-id
    GOOGLE_CLOUD_LOCATION=us-central1
    ```

3. **Google Cloud 認証**:
    ローカル環境から実行する場合、以下のコマンドで認証を行います。

    ```bash
    gcloud auth application-default login
    ```

## 実行方法

以下のコマンドを実行すると、インタラクティブなチャットが開始されます。

```bash
uv run python examples/multi-agent-zenn/main.py
```

### 使用例

- 「最新の AI 技術について記事を書きたいです」と入力すると、リサーチエージェントが調査を開始します。
- 調査レポートの確認後、「記事を執筆してください」と指示すると、ライターとレビュアーが協力して成果物を作成します。

## 注意事項

- 本システムは `gemini-2.5-flash` モデルを使用しています。
- 実際の LLM 呼び出しが発生するため、Google Cloud の利用料金が発生する場合があります。
