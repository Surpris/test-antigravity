schema_version: "1.0"
model_name: "ResearchDataManagementPlan_LogicalModel"
description: "科学研究費助成事業データマネジメントプラン（DMP）様式例に基づく論理データモデル"

entities:
  DMPMetadata:
    description: "DMP自体の作成・更新に関するメタデータ"
    context: "http://schema.org/CreativeWork"
    attributes:
      created_date:
        type: "Date"
        description: "DMP作成年月日"
        required: true
        context: "http://purl.org/dc/terms/created"
      last_updated_date:
        type: "Date"
        description: "DMP最終更新年月日"
        required: true
        context: "http://purl.org/dc/terms/modified"

  Project:
    description: "データマネジメントの対象となる研究プロジェクト"
    context: "http://schema.org/ResearchProject"
    attributes:
      project_number:
        type: "String"
        description: "研究課題番号"
        primary_key: true
        context: "http://schema.org/identifier"
    relationships:
      has_metadata:
        target: "DMPMetadata"
        cardinality: "1:1"
        context: "http://schema.org/subjectOf"
        description: "プロジェクトに関連するDMPメタデータ"
      has_contributors:
        target: "Contributor"
        cardinality: "1:N"
        context: "http://schema.org/member"
        description: "プロジェクトのメンバー"
      has_datasets:
        target: "Dataset"
        cardinality: "1:N"
        context: "http://schema.org/result"
        description: "プロジェクトの成果物としてのデータセット"

  Contributor:
    description: "プロジェクトに関与する研究者およびスタッフ"
    context: "http://schema.org/Person"
    attributes:
      contributor_id:
        type: "String"
        description: "本計画書内通し番号"
        primary_key: true
        context: "http://schema.org/identifier"
      name:
        type: "String"
        description: "氏名"
        required: true
        context: "http://schema.org/name"
      role_in_project:
        type: "Enum"
        description: "プロジェクト内の役割"
        context: "http://schema.org/roleName"
        options:
          - "Principal Investigator"
          - "Co-Investigator"
          - "Data Collector"
          - "Data Manager"

  Dataset:
    description: "プロジェクトで生成・収集される個別のデータセット"
    context: "http://schema.org/Dataset"
    attributes:
      dataset_no:
        type: "Integer"
        description: "No."
        primary_key: true
        context: "http://schema.org/identifier"
      title:
        type: "String"
        description: "研究データの名称"
        required: true
        context: "http://schema.org/name"
      access_policy:
        type: "Enum"
        description: "研究データの公開・提供方針"
        context: "http://schema.org/conditionsOfAccess"
        options:
          - "公開"
          - "共有"
          - "非共有・非公開"
    relationships:
      collected_by:
        target: "Contributor"
        description: "研究データの取得者又は収集者"
        cardinality: "1:1"
        context: "http://schema.org/creator"
        attributes:
          collected_at:
            type: "Date"
            description: "研究データの取得年月日"
            context: "http://schema.org/dateCreated"
      managed_by:
        target: "Contributor"
        description: "研究データの管理者"
        cardinality: "0:1"
        context: "http://schema.org/maintainer"
        attributes:
          managed_from:
            type: "Date"
            description: "研究データの管理開始日"
            context: "http://schema.org/startTime"
          managed_to:
            type: "Date"
            description: "研究データの管理終了日"
            context: "http://schema.org/endTime"
